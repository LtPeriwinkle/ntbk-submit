<!DOCTYPE html>
<html lang="en">
<head>
  <title>9573X Notebook</title>
  <meta charset="UTF-8">
  <meta name="author" content="periwinkle">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="home.css">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Epilogue&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto&display=swap">
  <script src="date.js"></script>

  <!-- This is the markdown parsing for the preview -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/11.0.0/markdown-it.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/monokai.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script>
  <script>
  	function parse() {
	  var md = window.markdownit("commonmark", {
	    highlight: function (str, lang) {
		  if (lang && hljs.getLanguage(lang)) {
		    try {
		      return "<pre><code>" + hljs.highlight(lang, str, true).value + "</code></pre>";
			} catch (_) {}
		  }

		  return "<pre><code>" + md.utils.escapeHtml(str) + "</code></pre>";
	  	},
		breaks: true
	  });
	  console.log(md.render(document.getElementById('desc').value));
    var title = '## '.concat(document.getElementById('title').value);
	  document.getElementById('preview').innerHTML = md.render(title).concat(md.render(document.getElementById('desc').value));
	}
  </script>

</head>

<body onload="setDates()">
  <div id="nav" class="w3-bar w3-black w3-text-white w3-bottom-bar w3-border-black">
    <a href=".." class="w3-bar-item w3-button w3-hover-dark-gray">home</a>
    <a href="" class="w3-bar-item w3-button w3-hover-dark-gray">contribute</a>
    <a href="tutorial" class="w3-bar-item w3-button w3-hover-dark-gray">tutorial</a>
  </div>
  <div class="flex-container">
  	<div id="main" class="flex-child main">
    	<h1>contribute to the notebook</h1>
    	<form>
      	  <label for="title">Submission title</label><br>
      	  <input type="text" id="title" name="title" oninput="parse()"><br>
      	  <label for="cat">Submission category</label><br>
          <select id="cat" name="cat">
        	  <option value="build">Build</option>
        	  <option value="design">Design</option>
        	  <option value="code">Code</option>
      	  </select><br>
      	  <label for="date">Date of modification</label><br>
      	  <!-- i think there is a datepicker built in to html but too late -->
      	  <select id="months" name="months">
        	  <option id="0" value="Jan">January</option>
        	  <option id="1" value="Feb">February</option>
        	  <option id="2" value="Mar">March</option>
        	  <option id="3" value="Apr">April</option>
        	  <option id="4" value="May">May</option>
        	  <option id="5" value="Jun">June</option>
        	  <option id="6" value="Jul">July</option>
        	  <option id="7" value="Aug">August</option>
        	  <option id="8" value="Sep">September</option>
        	  <option id="9" value="Oct">October</option>
        	  <option id="10" value="Nov">November</option>
        	  <option id="11" value="Dec">December</option>
      	  </select>
      	  <input type="number" id="date" name="date" size="6" min="0" max="31">
      	  <input type="number" id="year" name="year" size="8"><br>
      	  <label for="desc">Description of modification. <a href="https://www.markdownguide.org/cheat-sheet/">Markdown</a> is supported.</label><br>
      	  <textarea id="desc" name="desc" rows="8" cols="50" oninput="parse()"></textarea><br>
      	  <label for="bpic">Before images</label><br>
      	  <input type="file" id="bpic" name="bpic" accept="image/jpeg, image/png" multiple><br>
      	  <label for="apic">After images</label><br>
      	  <input type="file" id="apic" name="apic" accept="image/jpeg, image/png" multiple><br><br><br>
        </form>
  	  </div>
  	  <div id="preview" class="flex-child preview" font-family="Roboto"></div>
    </div>
  </body>
</html>
